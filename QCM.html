<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Assistances numÃ©riques</title>
  <link rel="stylesheet" href="qcm.css">
</head>
<body>
  <header>
    <span>ðŸ¤–</span><h1>Assistant NumÃ©rique</h1>
    <p>Discutez avec WhiskersBot notre ChaTbot_de_confianceðŸ“±</p>
  </header>

  <section>
    <div id="chat-box" style="border:1px solid #ccc; height:250px; overflow-y:auto; padding:10px; margin-bottom:10px;"></div>
    <input id="user-input" type="text" placeholder="Posez-moi votre question ici...">
    <button onclick="sendMessage()">ðŸ’¨</button>
  </section>

  <script>
    const knowledgeBase = [
      {
        keywords: ["bonjour", "salut", "hello"],
        response: "Bonjour Ã  toi ! Pose-moi une question sur ton QCM si tu veux ðŸ˜Š"
      },
      {
        keywords: ["rÃ©ponse", "bonne rÃ©ponse", "choix"],
        response: "Pour choisir la bonne rÃ©ponse, Ã©limine les options les plus improbables. Tu veux de lâ€™aide sur une question prÃ©cise ?"
      },
      {
        keywords: ["question 1", "q1", "premiÃ¨re question"],
        response: "La question 1 parle de logique boolÃ©enne. As-tu pensÃ© Ã  faire une table de vÃ©ritÃ© ?"
      },
      {
        keywords: ["aide", "explication", "je ne comprends pas"],
        response: "Je suis lÃ  pour tâ€™aider ! Quelle question te pose problÃ¨me ?"
      },
      {
        keywords: ["merci", "thanks"],
        response: "Avec plaisir ! Continue Ã  bosser dur ðŸ’ª"
      },
      {
        keywords: ["heure", "temps"],
        response: () => `Il est ${new Date().toLocaleTimeString()} maintenant.`
      },
      {
        keywords: ["date", "jour"],
        response: () => `Nous sommes le ${new Date().toLocaleDateString()}.`
      }
    ];

    function getBotResponse(message) {
      const msg = message.toLowerCase();

      for (const entry of knowledgeBase) {
        for (const keyword of entry.keywords) {
          if (msg.includes(keyword)) {
            return typeof entry.response === "function"
              ? entry.response()
              : entry.response;
          }
        }
      }

      return "Je ne suis pas sÃ»r de comprendre. Peux-tu reformuler ou prÃ©ciser ta question ? ðŸ¤”";
    }

    function sendMessage() {
      const input = document.getElementById("user-input");
      const message = input.value.trim();
      if (!message) return;

      const chatBox = document.getElementById("chat-box");
      chatBox.innerHTML += `<p class="user">ðŸ‘¤ Vous : ${message}</p>`;

      const botResponse = getBotResponse(message);
      chatBox.innerHTML += `<p class="bot">ðŸ¤– Bot : ${botResponse}</p>`;

      input.value = "";
      chatBox.scrollTop = chatBox.scrollHeight;
    }

    document.getElementById("user-input").addEventListener("keypress", function (e) {
      if (e.key === "Enter") {
        sendMessage();
      }
    });
  </script>
</body>
</html>
